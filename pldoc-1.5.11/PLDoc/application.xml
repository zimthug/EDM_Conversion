<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<!DOCTYPE APPLICATION SYSTEM "application.dtd">
<APPLICATION NAME="EDM_Converdsion">
  <PACKAGE NAME="CONVERSION_PCK" SCHEMA="">
    <VARIABLE NAME="GLL_RUN_ID">
      <COMMENT_FIRST_LINE><![CDATA[ <b>Project:</b>  OpenSGC Data Conversion Module  <a href="http://41.220.242.130:8080/browse/EMCMS">EDM Project</a> <br>
 <b>Description:</b> This package will be used as the main data conversion package.]]></COMMENT_FIRST_LINE>
      <COMMENT><![CDATA[ <b>Project:</b>  OpenSGC Data Conversion Module  <a href="http://41.220.242.130:8080/browse/EMCMS">EDM Project</a> <br>
 <b>Description:</b> This package will be used as the main data conversion package. It contains all the
 necessary procedures and functions for converting data from EDM's current systems to the CMS.
 The package is used to convert the following systems to CMS.
        <li>Galatee to CMS</li>
        <li>Access to CMS </li>
        <li>Eclipse to CMS</li>
]]></COMMENT>
      <RETURN TYPE="NUMBER"/>
    </VARIABLE>
    <VARIABLE DEFAULT="'CONV_EDM'" NAME="GLS_USUARIO">
      <RETURN TYPE="VARCHAR2(15)"/>
    </VARIABLE>
    <VARIABLE DEFAULT="'CONV_EDM'" NAME="GLS_PROGRAMA">
      <RETURN TYPE="VARCHAR2(15)"/>
    </VARIABLE>
    <VARIABLE DEFAULT="TO_DATE(29991231, 'YYYYMMDD')" NAME="GLF_FECHANULLA">
      <RETURN TYPE="DATE"/>
    </VARIABLE>
    <TYPE NAME="NAME_REC">
      <COMMENT_FIRST_LINE><![CDATA[ PL/SQL record type for customer names.]]></COMMENT_FIRST_LINE>
      <COMMENT><![CDATA[ PL/SQL record type for customer names. Used for splitting the name into first, surname, other names and title.
]]></COMMENT>
      <FIELD NAME="APE1_CLI" TYPE="VARCHAR2(30)"/>
      <FIELD NAME="NOM_CLI" TYPE="VARCHAR2(30)"/>
      <FIELD NAME="APE2_CLI" TYPE="VARCHAR2(30)"/>
      <FIELD NAME="CUALIF_CLI" TYPE="VARCHAR2(5)"/>
      <RETURN TYPE="RECORD"/>
    </TYPE>
    <PROCEDURE NAME="LOGGER">
      <COMMENT_FIRST_LINE><![CDATA[ Logging times and records loaded by the program.]]></COMMENT_FIRST_LINE>
      <COMMENT><![CDATA[ Logging times and records loaded by the program. The logs are written to a database table called CONV_LOGGER
]]></COMMENT>
      <ARGUMENT MODE="IN" NAME="P_RUN_ID" TYPE="NUMBER">
        <COMMENT><![CDATA[The program ID number.]]></COMMENT>
      </ARGUMENT>
      <ARGUMENT MODE="IN" NAME="P_PROGRAM_NAME" TYPE="VARCHAR2">
        <COMMENT><![CDATA[The program identifier.]]></COMMENT>
      </ARGUMENT>
      <ARGUMENT MODE="IN" NAME="P_MESSAGE" TYPE="VARCHAR2">
        <COMMENT><![CDATA[The message to log]]></COMMENT>
      </ARGUMENT>
      <ARGUMENT MODE="IN" NAME="P_STATUS" TYPE="VARCHAR2">
        <COMMENT><![CDATA[Status of the program. Allowed values are (RUNNING,ABORTED,STARTING, ENDING)]]></COMMENT>
      </ARGUMENT>
      <ARGUMENT MODE="IN" NAME="P_ROW_COUNT" TYPE="NUMBER">
        <COMMENT><![CDATA[Number of rows processed by the program]]></COMMENT>
      </ARGUMENT>
      <TAG TYPE="@PARAM">
        <COMMENT><![CDATA[p_run_id The program ID number.]]></COMMENT>
      </TAG>
      <TAG TYPE="@PARAM">
        <COMMENT><![CDATA[p_program_name The program identifier.]]></COMMENT>
      </TAG>
      <TAG TYPE="@PARAM">
        <COMMENT><![CDATA[p_message The message to log]]></COMMENT>
      </TAG>
      <TAG TYPE="@PARAM">
        <COMMENT><![CDATA[p_status Status of the program. Allowed values are (RUNNING,ABORTED,STARTING, ENDING)]]></COMMENT>
      </TAG>
      <TAG TYPE="@PARAM">
        <COMMENT><![CDATA[p_row_count Number of rows processed by the program]]></COMMENT>
      </TAG>
      <TAG TYPE="@AUTHOR">
        <COMMENT><![CDATA[tmlangeni@eservicios.indracompany.com]]></COMMENT>
      </TAG>
      <SUMMARY END_COLUMN="42" END_LINE="42" LINES="3" START_COLUMN="13" START_LINE="40"/>
    </PROCEDURE>
    <PROCEDURE NAME="ERROR_LOGGER">
      <COMMENT_FIRST_LINE><![CDATA[ Logs error messages which will be generated by programs as they run.]]></COMMENT_FIRST_LINE>
      <COMMENT><![CDATA[ Logs error messages which will be generated by programs as they run. The logs are written to a table ERROR_LOG.
]]></COMMENT>
      <ARGUMENT MODE="IN" NAME="P_ERROR_MSG" TYPE="VARCHAR2">
        <COMMENT><![CDATA[The full error message generated.]]></COMMENT>
      </ARGUMENT>
      <ARGUMENT MODE="IN" NAME="P_RUN_ID" TYPE="NUMBER">
        <COMMENT><![CDATA[The program ID number.]]></COMMENT>
      </ARGUMENT>
      <ARGUMENT MODE="IN" NAME="P_PROGRAM_NAME" TYPE="VARCHAR2">
        <COMMENT><![CDATA[The program identifier.]]></COMMENT>
      </ARGUMENT>
      <ARGUMENT MODE="IN" NAME="P_TIP_ID" TYPE="VARCHAR2">
        <COMMENT><![CDATA[Type of ID to use e.g. CONV_ID, OLD ACCOUNT etc.]]></COMMENT>
      </ARGUMENT>
      <ARGUMENT MODE="IN" NAME="P_ID_NUMBER" TYPE="VARCHAR2">
        <COMMENT><![CDATA[The ID number for the failing record.]]></COMMENT>
      </ARGUMENT>
      <TAG TYPE="@PARAM">
        <COMMENT><![CDATA[p_error_msg The full error message generated.]]></COMMENT>
      </TAG>
      <TAG TYPE="@PARAM">
        <COMMENT><![CDATA[p_run_id The program ID number.]]></COMMENT>
      </TAG>
      <TAG TYPE="@PARAM">
        <COMMENT><![CDATA[p_program_name The program identifier.]]></COMMENT>
      </TAG>
      <TAG TYPE="@PARAM">
        <COMMENT><![CDATA[p_tip_id Type of ID to use e.g. CONV_ID, OLD ACCOUNT etc.]]></COMMENT>
      </TAG>
      <TAG TYPE="@PARAM">
        <COMMENT><![CDATA[p_id_number The ID number for the failing record.]]></COMMENT>
      </TAG>
      <TAG TYPE="@AUTHOR">
        <COMMENT><![CDATA[tmlangeni@eservicios.indracompany.com]]></COMMENT>
      </TAG>
      <SUMMARY END_COLUMN="50" END_LINE="55" LINES="3" START_COLUMN="13" START_LINE="53"/>
    </PROCEDURE>
    <FUNCTION NAME="MAP_CODES">
      <COMMENT_FIRST_LINE><![CDATA[ Mapping of old system codes to the equivalences in CMS
]]></COMMENT_FIRST_LINE>
      <COMMENT><![CDATA[ Mapping of old system codes to the equivalences in CMS
]]></COMMENT>
      <ARGUMENT MODE="IN" NAME="LS_SYSTEM_ID" TYPE="VARCHAR2">
        <COMMENT><![CDATA[System in use. With 1 being Galatee, 2 Access and 3 Eclipse]]></COMMENT>
      </ARGUMENT>
      <ARGUMENT MODE="IN" NAME="LS_CODE_TYPE" TYPE="VARCHAR2">
        <COMMENT><![CDATA[Code type to lookup.]]></COMMENT>
      </ARGUMENT>
      <ARGUMENT MODE="IN" NAME="LS_CODE" TYPE="VARCHAR2">
        <COMMENT><![CDATA[Old system code]]></COMMENT>
      </ARGUMENT>
      <RETURN TYPE="VARCHAR2"/>
      <TAG TYPE="@PARAM">
        <COMMENT><![CDATA[ls_system_id System in use. With 1 being Galatee, 2 Access and 3 Eclipse]]></COMMENT>
      </TAG>
      <TAG TYPE="@PARAM">
        <COMMENT><![CDATA[ls_code_type Code type to lookup.]]></COMMENT>
      </TAG>
      <TAG TYPE="@PARAM">
        <COMMENT><![CDATA[ls_code Old system code]]></COMMENT>
      </TAG>
      <TAG TYPE="@AUTHOR">
        <COMMENT><![CDATA[tmlangeni@eservicios.indracompany.com]]></COMMENT>
      </TAG>
      <SUMMARY END_COLUMN="58" END_LINE="67" LINES="2" START_COLUMN="12" START_LINE="66"/>
    </FUNCTION>
    <PROCEDURE NAME="P01_GEOGRAPHICAL_STRUCTURE">
      <SUMMARY END_COLUMN="39" END_LINE="69" LINES="1" START_COLUMN="13" START_LINE="69"/>
    </PROCEDURE>
    <PROCEDURE NAME="SPLIT_LONG_NAMES">
      <ARGUMENT MODE="IN" NAME="PLS_NAME" TYPE="VARCHAR2"/>
      <ARGUMENT MODE="OUT" NAME="NAMES$" TYPE="NAME_REC"/>
      <SUMMARY END_COLUMN="72" END_LINE="71" LINES="1" START_COLUMN="13" START_LINE="71"/>
    </PROCEDURE>
    <PROCEDURE NAME="P02_INT_SUPPLY_ALL">
      <ARGUMENT MODE="IN" NAME="GLS_SYSTEM_ID" TYPE="VARCHAR2"/>
      <SUMMARY END_COLUMN="58" END_LINE="73" LINES="1" START_COLUMN="13" START_LINE="73"/>
    </PROCEDURE>
    <PROCEDURE NAME="P03_INT_METER_POSTPAID">
      <SUMMARY END_COLUMN="35" END_LINE="75" LINES="1" START_COLUMN="13" START_LINE="75"/>
    </PROCEDURE>
    <PROCEDURE NAME="P03_INT_METER_PREPAID">
      <SUMMARY END_COLUMN="34" END_LINE="77" LINES="1" START_COLUMN="13" START_LINE="77"/>
    </PROCEDURE>
    <PROCEDURE NAME="P04_RUN_PHASE3">
      <SUMMARY END_COLUMN="27" END_LINE="79" LINES="1" START_COLUMN="13" START_LINE="79"/>
    </PROCEDURE>
    <PROCEDURE NAME="P05_APMEDIDA_AP">
      <SUMMARY END_COLUMN="28" END_LINE="81" LINES="1" START_COLUMN="13" START_LINE="81"/>
    </PROCEDURE>
    <PROCEDURE NAME="P06_READINGS_GALATEE">
      <SUMMARY END_COLUMN="33" END_LINE="83" LINES="1" START_COLUMN="13" START_LINE="83"/>
    </PROCEDURE>
    <PROCEDURE NAME="P06_READINGS_ACCESS">
      <SUMMARY END_COLUMN="32" END_LINE="85" LINES="1" START_COLUMN="13" START_LINE="85"/>
    </PROCEDURE>
    <PROCEDURE NAME="P06_READINGS_CLEANUP">
      <SUMMARY END_COLUMN="33" END_LINE="87" LINES="1" START_COLUMN="13" START_LINE="87"/>
    </PROCEDURE>
    <PROCEDURE NAME="P07_READING_ROUTES">
      <SUMMARY END_COLUMN="31" END_LINE="89" LINES="1" START_COLUMN="13" START_LINE="89"/>
    </PROCEDURE>
    <PROCEDURE NAME="P20_BILLING_GALATEE">
      <COMMENT_FIRST_LINE><![CDATA[
]]></COMMENT_FIRST_LINE>
      <COMMENT><![CDATA[
]]></COMMENT>
      <ARGUMENT DEFAULT="0" MODE="IN" NAME="PLL_NIS_RAD" TYPE="NUMBER"/>
      <SUMMARY END_COLUMN="65" END_LINE="94" LINES="1" START_COLUMN="13" START_LINE="94"/>
    </PROCEDURE>
    <PROCEDURE NAME="P30_DEPOSITS">
      <SUMMARY END_COLUMN="25" END_LINE="96" LINES="1" START_COLUMN="13" START_LINE="96"/>
    </PROCEDURE>
    <PROCEDURE NAME="P40_CONVERSION_CLEAN_UP">
      <SUMMARY END_COLUMN="36" END_LINE="98" LINES="1" START_COLUMN="13" START_LINE="98"/>
    </PROCEDURE>
    <SUMMARY END_COLUMN="19" END_LINE="100" LINES="100" START_COLUMN="27" START_LINE="1"/>
  </PACKAGE>
  <PACKAGE_BODY NAME="CONVERSION_PCK" SCHEMA="">
    <VARIABLE DEFAULT="25" NAME="GLL_MAX_SURNAME">
      <RETURN TYPE="NUMBER"/>
    </VARIABLE>
    <TYPE NAME="CADASTRAMENTO_REC">
      <FIELD NAME="SYSTEM_ID" TYPE="VARCHAR2(2)"/>
      <FIELD NAME="CENTRE" TYPE="VARCHAR2(5)"/>
      <FIELD NAME="CLIENT" TYPE="VARCHAR2(12)"/>
      <FIELD NAME="ORDRE" TYPE="VARCHAR2(3)"/>
      <FIELD NAME="METER_NO" TYPE="VARCHAR2(30)"/>
      <FIELD NAME="COD_CALLE" TYPE="NUMBER"/>
      <FIELD NAME="COD_UNICOM" TYPE="NUMBER"/>
      <FIELD NAME="PLOT_NUM" TYPE="VARCHAR2(10)"/>
      <FIELD NAME="TELEPHONE_ONE" TYPE="VARCHAR2(30)"/>
      <FIELD NAME="TELEPHONE_TWO" TYPE="VARCHAR2(30)"/>
      <FIELD NAME="ADDRESS" TYPE="VARCHAR2(120)"/>
      <FIELD NAME="GPS_X" TYPE="FLOAT"/>
      <FIELD NAME="GPS_Y" TYPE="FLOAT"/>
      <FIELD NAME="ACC_FINCA" TYPE="VARCHAR2(50)"/>
      <FIELD NAME="TIP_FASE" TYPE="VARCHAR2(5)"/>
      <RETURN TYPE="RECORD"/>
    </TYPE>
    <PROCEDURE NAME="LOGGER">
      <ARGUMENT MODE="IN" NAME="P_RUN_ID" TYPE="NUMBER"/>
      <ARGUMENT MODE="IN" NAME="P_PROGRAM_NAME" TYPE="VARCHAR2"/>
      <ARGUMENT MODE="IN" NAME="P_MESSAGE" TYPE="VARCHAR2"/>
      <ARGUMENT MODE="IN" NAME="P_STATUS" TYPE="VARCHAR2"/>
      <ARGUMENT MODE="IN" NAME="P_ROW_COUNT" TYPE="NUMBER"/>
      <SUMMARY END_COLUMN="13" END_LINE="32" LINES="11" START_COLUMN="13" START_LINE="22"/>
    </PROCEDURE>
    <PROCEDURE NAME="ERROR_LOGGER">
      <ARGUMENT MODE="IN" NAME="P_ERROR_MSG" TYPE="VARCHAR2"/>
      <ARGUMENT MODE="IN" NAME="P_RUN_ID" TYPE="NUMBER"/>
      <ARGUMENT MODE="IN" NAME="P_PROGRAM_NAME" TYPE="VARCHAR2"/>
      <ARGUMENT MODE="IN" NAME="P_TIP_ID" TYPE="VARCHAR2"/>
      <ARGUMENT MODE="IN" NAME="P_ID_NUMBER" TYPE="VARCHAR2"/>
      <SUMMARY END_COLUMN="19" END_LINE="43" LINES="10" START_COLUMN="13" START_LINE="34"/>
    </PROCEDURE>
    <PROCEDURE NAME="GALATEE_UNDEFINED_STREETS">
      <SUMMARY END_COLUMN="32" END_LINE="152" LINES="108" START_COLUMN="13" START_LINE="45"/>
    </PROCEDURE>
    <PROCEDURE NAME="P01_GEOGRAPHICAL_STRUCTURE">
      <SUMMARY END_COLUMN="33" END_LINE="293" LINES="140" START_COLUMN="13" START_LINE="154"/>
    </PROCEDURE>
    <PROCEDURE NAME="SPLIT_LONG_NAMES">
      <ARGUMENT MODE="IN" NAME="PLS_NAME" TYPE="VARCHAR2"/>
      <ARGUMENT MODE="OUT" NAME="NAMES$" TYPE="NAME_REC"/>
      <SUMMARY END_COLUMN="23" END_LINE="324" LINES="30" START_COLUMN="13" START_LINE="295"/>
    </PROCEDURE>
    <FUNCTION NAME="MAP_CODES">
      <COMMENT_FIRST_LINE><![CDATA[function get_galatee_address(pls_centre in varchar2,
pls_client in varchar2) return varchar2 is
Getting customer address from  the Galatee database.]]></COMMENT_FIRST_LINE>
      <COMMENT><![CDATA[function get_galatee_address(pls_centre in varchar2,
pls_client in varchar2) return varchar2 is
Getting customer address from  the Galatee database.
ls_address varchar2(60);
begin
select nvl(trim('|' || nomrue || ' ' || numrue || ' ' || comprue || ' ' ||
etage), ' ')
into ls_address
from edmgalatee.ag
where centre = pls_centre
and ag = pls_client;
return ls_address;
exception
when no_data_found then
return null;
end get_galatee_address;
]]></COMMENT>
      <ARGUMENT MODE="IN" NAME="LS_SYSTEM_ID" TYPE="VARCHAR2"/>
      <ARGUMENT MODE="IN" NAME="LS_CODE_TYPE" TYPE="VARCHAR2"/>
      <ARGUMENT MODE="IN" NAME="LS_CODE" TYPE="VARCHAR2"/>
      <RETURN TYPE="VARCHAR2"/>
      <SUMMARY END_COLUMN="16" END_LINE="360" LINES="18" START_COLUMN="12" START_LINE="343"/>
    </FUNCTION>
    <FUNCTION NAME="SANITIZE_ADDRESS">
      <ARGUMENT MODE="IN" NAME="PLS_DUPLICADOR" TYPE="VARCHAR2"/>
      <RETURN TYPE="VARCHAR2"/>
      <SUMMARY END_COLUMN="23" END_LINE="372" LINES="11" START_COLUMN="12" START_LINE="362"/>
    </FUNCTION>
    <PROCEDURE NAME="NORMALIZE_INT_SUPPLY">
      <SUMMARY END_COLUMN="27" END_LINE="446" LINES="73" START_COLUMN="13" START_LINE="374"/>
    </PROCEDURE>
    <PROCEDURE NAME="PROCESS_SUPPLY_DATA">
      <ARGUMENT MODE="IN OUT" NAME="CADASTRAMENTO$" TYPE="CADASTRAMENTO_REC"/>
      <SUMMARY END_COLUMN="26" END_LINE="536" LINES="89" START_COLUMN="13" START_LINE="448"/>
    </PROCEDURE>
    <PROCEDURE NAME="P02_INT_SUPPLY_ALL">
      <COMMENT_FIRST_LINE><![CDATA[ <b>Procedure</b></br>
 Procedure to load the table INT_SUPPLY with the data from Galatee, Access and Eclipse.]]></COMMENT_FIRST_LINE>
      <COMMENT><![CDATA[ <b>Procedure</b></br>
 Procedure to load the table INT_SUPPLY with the data from Galatee, Access and Eclipse.
 INT_SUPPLY is the main staging table for creation of premise, customer, account, supply point
 and service data for CMS. It is in this table where the data is
 transformed and CMS equivalence codes are added to the data.
]]></COMMENT>
      <ARGUMENT MODE="IN" NAME="GLS_SYSTEM_ID" TYPE="VARCHAR2">
        <COMMENT><![CDATA[This is varchar2 in. The valid values for this parameter are
 <ul>
  <li> '01' - For Galatee</li>
  <li> '02' - For Access</li>
  <li> '03' - For Eclipse</li>
 </ul>
 It is required to specify the system one would like to convert for table INT_SUPPLY]]></COMMENT>
      </ARGUMENT>
      <TAG TYPE="@PARAM">
        <COMMENT><![CDATA[gls_system_id This is varchar2 in. The valid values for this parameter are
 <ul>
  <li> '01' - For Galatee</li>
  <li> '02' - For Access</li>
  <li> '03' - For Eclipse</li>
 </ul>
 It is required to specify the system one would like to convert for table INT_SUPPLY]]></COMMENT>
      </TAG>
      <TAG TYPE="@AUTHOR">
        <COMMENT><![CDATA[tmlangeni@eservicios.indracompany.com]]></COMMENT>
      </TAG>
      <SUMMARY END_COLUMN="25" END_LINE="945" LINES="392" START_COLUMN="13" START_LINE="554"/>
    </PROCEDURE>
    <PROCEDURE NAME="P03_INT_METER_POSTPAID">
      <COMMENT_FIRST_LINE>
      </COMMENT_FIRST_LINE>
      <COMMENT>
      </COMMENT>
      <TAG TYPE="@AUTHOR">
        <COMMENT><![CDATA[TML]]></COMMENT>
      </TAG>
      <SUMMARY END_COLUMN="29" END_LINE="1114" LINES="164" START_COLUMN="13" START_LINE="951"/>
    </PROCEDURE>
    <PROCEDURE NAME="P03_INT_METER_PREPAID">
      <SUMMARY END_COLUMN="28" END_LINE="1163" LINES="48" START_COLUMN="13" START_LINE="1116"/>
    </PROCEDURE>
    <PROCEDURE NAME="P04_RUN_PHASE3">
      <SUMMARY END_COLUMN="21" END_LINE="1171" LINES="7" START_COLUMN="13" START_LINE="1165"/>
    </PROCEDURE>
    <PROCEDURE NAME="P05_APMEDIDA_AP">
      <COMMENT_FIRST_LINE><![CDATA[ This procedure is supposed to load current and historical meters for the services.]]></COMMENT_FIRST_LINE>
      <COMMENT><![CDATA[ This procedure is supposed to load current and historical meters for the services. This procedure should be
 executed after {@link p03_int_meter_postpaid}
]]></COMMENT>
      <TAG TYPE="@AUTHOR">
        <COMMENT><![CDATA[tmlangeni@eservicios.indracompany.com]]></COMMENT>
      </TAG>
      <SUMMARY END_COLUMN="22" END_LINE="1322" LINES="144" START_COLUMN="13" START_LINE="1179"/>
    </PROCEDURE>
    <PROCEDURE NAME="P06_READINGS_GALATEE">
      <SUMMARY END_COLUMN="27" END_LINE="1471" LINES="148" START_COLUMN="13" START_LINE="1324"/>
    </PROCEDURE>
    <PROCEDURE NAME="P06_READINGS_ACCESS">
      <SUMMARY END_COLUMN="26" END_LINE="1603" LINES="131" START_COLUMN="13" START_LINE="1473"/>
    </PROCEDURE>
    <PROCEDURE NAME="P06_READINGS_CLEANUP">
      <SUMMARY END_COLUMN="27" END_LINE="1644" LINES="40" START_COLUMN="13" START_LINE="1605"/>
    </PROCEDURE>
    <PROCEDURE NAME="P07_READING_ROUTES">
      <SUMMARY END_COLUMN="25" END_LINE="1780" LINES="135" START_COLUMN="13" START_LINE="1646"/>
    </PROCEDURE>
    <PROCEDURE NAME="P20_BILLING_GALATEE">
      <COMMENT_FIRST_LINE><![CDATA[ Procedure to load Galatee historical readings to CMS.]]></COMMENT_FIRST_LINE>
      <COMMENT><![CDATA[ Procedure to load Galatee historical readings to CMS. The tables to be loaded by this procedure are;
 <li>RECIBOS</li>
 <li>HFACTURACION</li>
 <li>IMP_CONCEPTO</li>
 <li>EST_REC</li>
 A historical load of past 24 months bills will be loaded to these tables. If any customer has a bill older
 than the bills for the 24 months then a 25th month bill will be created with a consolidated sum of all the
 25+ months bills. <br/>
 <b><u>Rules Used</u></b>
 <ul>Historical bills of 24 months will be converted with status either paid or sent to customer.</ul>
 <ul>If bill is not fully paid (partially paid or no payment at all) then it will have status
 "SENT TO CUSTOMER" and the paid amount will reflect
 in <i>RECIBOS</i> as such.</ul>
 <ul>Fully paid bills will have status "PAID" and the bill amount will be equal to amount paid.</ul>
]]></COMMENT>
      <ARGUMENT DEFAULT="0" MODE="IN" NAME="PLL_NIS_RAD" TYPE="NUMBER">
        <COMMENT><![CDATA[IN NUMBER DEFAULT 0 - Can be specified if we have a particular
                          service to convert its bills but left blank for all services.]]></COMMENT>
      </ARGUMENT>
      <TAG TYPE="@PARAM">
        <COMMENT><![CDATA[pll_nis_rad IN NUMBER DEFAULT 0 - Can be specified if we have a particular
                          service to convert its bills but left blank for all services.]]></COMMENT>
      </TAG>
      <TAG TYPE="@AUTHOR">
        <COMMENT><![CDATA[tmlangeni@eservicios.indracompany.com]]></COMMENT>
      </TAG>
      <SUMMARY END_COLUMN="26" END_LINE="2145" LINES="345" START_COLUMN="13" START_LINE="1801"/>
    </PROCEDURE>
    <PROCEDURE NAME="P30_DEPOSITS">
      <SUMMARY END_COLUMN="19" END_LINE="2182" LINES="36" START_COLUMN="13" START_LINE="2147"/>
    </PROCEDURE>
    <PROCEDURE NAME="P40_CONVERSION_CLEAN_UP">
      <SUMMARY END_COLUMN="30" END_LINE="2278" LINES="95" START_COLUMN="13" START_LINE="2184"/>
    </PROCEDURE>
    <SUMMARY END_COLUMN="19" END_LINE="2280" LINES="2280" START_COLUMN="32" START_LINE="1"/>
  </PACKAGE_BODY>
  <GENERATOR>
    <OBJECTS>
      <PROCESSED COUNT="1"/>
      <SKIPPED COUNT="0"/>
    </OBJECTS>
    <CREATED DATE="2/5/14" TIME="4:24 PM"/>
    <SETTINGS DEFAULT_KEYWORDS_CASE="UPPER" DEFAULT_NAMES_CASE="UPPER" IGNORE_INFORMAL_COMMENTS="FALSE" INPUT_ENCODING="Cp1252" KEYWORDS_TO_DEFAULT_CASE="TRUE" KEYWORDS_TO_LOWER_CASE="FALSE" KEYWORDS_TO_UPPER_CASE="FALSE" NAMES_TO_DEFAULT_CASE="TRUE" NAMES_TO_LOWER_CASE="FALSE" NAMES_TO_UPPER_CASE="FALSE" SHOW_SKIPPED_PACKAGES="FALSE" VERBOSE="FALSE"/>
  </GENERATOR>
</APPLICATION>
